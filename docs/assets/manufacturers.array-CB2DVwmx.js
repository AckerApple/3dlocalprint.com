var Hn=Object.defineProperty;var In=(t,e,n)=>e in t?Hn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var R=(t,e,n)=>In(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function G(t){return t.renderCount=t.renderCount||0,t.varCounter=0,t.state={newer:{state:[],states:[]}},t.global={blocked:[]}}function mt(){return k.stateConfig.support}function St(t){return v(t.context),k.stateConfig.support=t}const L=function(){};let P=[];const Ct=[];let U=[],O=[],Tt=[];const V={locks:0};function Wn(t,e){e.textContent=t}function N(){V.locks>0||Nn()}function Nn(){++V.locks,Bn(),--V.locks,$n()}function $n(){_n();const t=Tt;Tt=[];for(const e of t)e[0](...e[1])}function jn(){for(const t of Ct)t[0](...t[1])}function Bn(){const t=Ct.length;jn(),Ct.splice(0,t);for(const e of U)e[0](...e[1]);for(const e of O)e[0](...e[1]);for(const e of P)e[0](...e[1])}function _n(){P=[],U=[],O=[]}function at(t,e){Ct.push([Kn,[t,e]])}function Kn(t,e){t.parentNode.removeChild(t)}function j(t,e,n){t.parentNode.insertBefore(e,t)}function F(t,e){t.appendChild(e)}const Y=typeof document=="object"&&document.createElement("div");function Gn(t){return Y.innerHTML=t,document.createTextNode(Y.innerHTML)}function ke(t,e,n=L,s){const o=Gn(e);j(t,o),n(o)}function qn(t,e,n=L){Y.innerHTML=e;const s=document.createTextNode(Y.textContent);j(t,s),n(s)}function zn(t,e,n){Y.innerHTML=e;const s=document.createTextNode(Y.textContent);F(t,s),n(s)}const q="";var kt;(function(t){t.string="string",t.number="number",t.boolean="boolean",t.undefined="undefined"})(kt||(kt={}));var b;(function(t){t.function="function",t.date="date",t.unknown="unknown",t.object="object"})(b||(b={}));const Zn=Date.now(),y={tag:"html",dom:"dom",templater:"templater",tagComponent:"tagComponent",tagArray:"tagArray",host:"host",subscribe:"subscribe",signal:"signal",renderOnce:"renderOnce",stateRender:"stateRender",version:Zn};function we(t){if(!t)return!1;switch(t.tagJsType){case y.dom:case y.tag:case y.templater:return!0}return!1}function lt(t){const e=t==null?void 0:t.tagJsType;return e===y.tagComponent||e===y.stateRender}function Xn(t){return Et(t)&&typeof t.subscribe===b.function}function et(t){return t&&B(t.then)}function B(t){return typeof t===b.function}function Et(t){return typeof t===b.object&&t!==null}function x(t){return Array.isArray(t)}function Je(t){const e=t.state;if(e&&e.newest&&e.newest)return e.newest;if(t.parentContext)return Je(t.parentContext)}function ft(t){let e=t;for(;e.ownerSupport&&!lt(e.templater);)e=e.ownerSupport;const s=e.context.state;return s&&s.newest||e}function Qn(...t){return t}function Ae(t){const e=k.stateConfig;return e.states[e.statesIndex]=t,++e.statesIndex,t(Qn)}function Yn(t){const e=k.stateConfig,n=e.statesIndex,i=ft(e.prevSupport).context.state.older.states[n];let u=[];i(function(...d){return u=d,i.lastValues=u,d});const l=function(...d){return u};return e.states[e.statesIndex]=t,++e.statesIndex,t(l)}function Ve(t){v(t);const e=k.stateConfig;e.handlers.handler=Se,e.handlers.statesHandler=Ae,e.rearray=[];const n=e.state=[],s=e.states=[];e.statesIndex=0;const o=t.state=t.state||{};o.newer={state:n,states:s}}class ts{}function es(t){const[e]=t(ts),[n]=t(e);return[e,n]}function ns(t){const e=t.callback;if(!e)return t.defaultValue;const[n]=es(e);return n}function ss(){const t=k.stateConfig,n=t.rearray[t.state.length];return t.state.push(n),n.defaultValue}function Se(t){const e=k.stateConfig,n=$();if(!n||!n.state){const c="State requested but TaggedJs is not currently rendering a tag or host";throw console.error(c,{config:e,context:n}),new Error(c)}const s=n.state.newer;e.state=s.state;let o=t;if(typeof t===b.function&&(o=t()),typeof o===b.function){const c=o;o=function(...i){return c(...i)},o.original=c}const r={get:function(){return ns(r)},defaultValue:o};return e.state.push(r),o}function os(t){const e=new C,n=s=>{const o=[],r=[],c=(f,d)=>{if(o[d]=!0,r[d]=f,o.length===t.length){for(const h of o)if(!h)return;s(r,u)}},a=[...t],u=a.shift().subscribe(f=>c(f,0)),l=a.map((f,d)=>f.subscribe(g=>c(g,d+1)));return u.subscriptions=l,u};return e.subscribeWith=n,e}function rs(t,e){const n=t.findIndex(s=>s.callback===e);n!==-1&&t.splice(n,1)}function cs(t,e,n){const s=C.globalSubCount$;C.globalSubCount$.next(s.value+1);const o=function(){o.unsubscribe()};return o.callback=e,o.subscriptions=[],o.unsubscribe=function(){return as(o,n,e)},o.add=r=>(o.subscriptions.push(r),o),o.next=r=>{e(r,o)},o}function Ee(t,e,n){const s=[...e],o=s.shift(),r=l=>{if(s.length)return Ee(l,s,n);n(l)};let c=r;const u=o(t,{setHandler:l=>c=l,next:r});c(u)}function as(t,e,n){rs(e,n);const s=C.globalSubCount$;C.globalSubCount$.next(s.value-1),t.unsubscribe=()=>t;const o=t.subscriptions;for(const r of o)r.unsubscribe();return t}const X=class X{constructor(e,n){R(this,"onSubscription");R(this,"methods",[]);R(this,"isSubject",!0);R(this,"subscribers",[]);R(this,"subscribeWith");R(this,"value");R(this,"set",this.next.bind(this));this.onSubscription=n,arguments.length>0&&(this.value=e)}subscribe(e){const n=cs(this,e,this.subscribers),s=this.subscribeWith;if(s){if(this.methods.length){const o=e;e=r=>{Ee(r,this.methods,c=>o(c,n))}}return s(e)}return this.subscribers.push(n),this.onSubscription&&this.onSubscription(n),n}next(e){this.value=e,this.emit()}emit(){const e=this.value,n=this.subscribers;for(const s of n)s.callback(e,s)}toPromise(){return new Promise(e=>{this.subscribe((n,s)=>{s.unsubscribe(),e(n)})})}toCallback(e){const n=this.subscribe((s,o)=>{const r=o==null?void 0:o.unsubscribe;r?r():setTimeout(()=>n.unsubscribe(),0),e(s)});return n}pipe(...e){const n=[];"value"in this&&n.push(this.value);const s=new X(...n);return s.setMethods(e),s.subscribeWith=o=>this.subscribe(o),s.next=o=>this.next(o),s}setMethods(e){this.methods=e}static all(e){const n=e.map(s=>Xn(s)?s:new X(s,r=>(r.next(s),r)));return os(n)}};R(X,"globalSubCount$",new X(0));let C=X;const is=new C(void 0,function(e){mt()||e.next()}),k={stateConfig:{state:[],version:Date.now(),handlers:{handler:Se,statesHandler:Ae}},tagClosed$:is};function us(t,e){const s=t.templater.tag.values;for(const o of e)ls(s,o,t);return e}function ls(t,e,n){if(e.deleted)return;const s=e.valueIndex,o=t[s],r=e.tagJsVar;v(e),r.processUpdate(o,e,n,t),D(),e.value=o}function Me(t,e){const n=t.context.contexts;fs(t,e),++V.locks,us(t,n),--V.locks,N()}function fs(t,e){const n=e.templater,s=e.templater.tag,o=n.values||s.values,r=t.templater.tag;r.values=o}function ds(t,e){return Rt(t,e)}function Rt(t,e){if(t===null||typeof t!==b.object||e<0)return t;if(t instanceof Date)return new Date(t);if(t instanceof RegExp)return new RegExp(t);const n=x(t)?[]:Object.create(Object.getPrototypeOf(t));if(x(t))for(let s=0;s<t.length;s++)n[s]=Rt(t[s],e-1);else for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=Rt(t[s],e-1));return n}function Le(t,e,n){return It(t,e,n)}function It(t,e,n){return t===e||hs(t,e)||n<0?!0:typeof t===b.object&&typeof e===b.object?t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():x(t)&&x(e)?gs(t,e,n-1):x(t)||x(e)?!1:ps(t,e,n-1):!1}function ps(t,e,n){const s=Object.keys(t),o=Object.keys(e);if(s.length===0&&o.length===0)return!0;if(s.length!==o.length)return!1;for(const r of s)if(!o.includes(r)||!It(t[r],e[r],n-1))return!1;return!0}function gs(t,e,n){if(t.length!==e.length)return!1;for(let s=0;s<t.length;s++)if(!It(t[s],e[s],n-1))return!1;return!0}function hs(t,e){return B(t)&&B(e)&&t.toString()===e.toString()}function ae(t){return t.map(Wt)}function Wt(t,e){const n=t,s=t==null?void 0:t.tagJsType;if(s)switch(s){case y.signal:case y.subscribe:case y.stateRender:return;case y.dom:case y.tag:case y.templater:return ae(n.values)}return x(t)?ae(n):ds(t,e)}function xe(t,e){const n=t.length;for(let s=0;s<n;++s){const o=t[s],r=e[s];if(x(o)&&x(r)){if(o===r)continue;return 3}if(!(typeof o===b.function&&typeof r===b.function)){if(typeof o===b.object){if(!o&&!r)continue;if(typeof e===b.object){const c=Object.entries(o);for(const a of c)if(!ys(a,r))return 3.1}continue}if(o!==r)return 3.3}}return!1}function ys([t,e],n){const s=n[t];return typeof e===b.function&&typeof s===b.function?!0:s===e}function Pe(t,e){const n=t.context.providers;if(n)for(const s of n)for(let o=s.children.length-1;o>=0;--o)s.children[o].context.global===e&&s.children.splice(o,1);t.context.destroy$.next(),t.context.renderCount=0}function Ut(t,e){for(const n of t){const s=n.lastArray;if(s){Ut(s,e);continue}const o=n.value;if((o==null?void 0:o.tagJsType)===y.subscribe){o.destroy(n,e),n.deleted=!0;continue}const r=n.global;if(!r)continue;const c=n.state.newest,a=r.subscriptions;a&&a.forEach(Oe),lt(c.templater)&&Pe(c,r);const i=n.contexts;Ut(i,c),r.deleted=!0}}function De(t,e=[],n=[]){for(const s of t){const o=s.global;if(!o)continue;const r=s.state.newest;if(r){e.push(r);const a=o.subscriptions;a&&n.push(...a)}const c=s.contexts;c&&De(c,e,n)}return{tags:e,subs:n}}function Oe(t){t.unsubscribe()}function z(t,e,n){const s=e.tagJsVar.tagJsType;return s&&["tag-conversion","element"].includes(s)?(e.tagJsVar.processUpdate(t,e,n,[]),e.value=t,0):t===e.value?0:(++e.updateCount,te(e,t,n))}function ve(t,e,n,s,o){const r=e.context;r.locked=3,n.target=n.target||s,v(n),n.tagJsVar.processInit(t,n,e,o,s),D(),n.value=t,delete r.locked}function Mt(t){switch(t){case void 0:case!1:case null:return q}return t}function bs(t,e){const n=Mt(t);if(e.paint){e.paint[1][1]=n;return}const s=e.simpleValueElm;U.push([Wn,[n,s]])}function ms(t,e){e.value=t,e.oldTagJsVar=e.tagJsVar,e.tagJsVar=Fe(t);const n=e.placeholder,s=Mt(t),o=e.paint=[ke,[n,s,function(c){e.simpleValueElm=c,delete e.paint},"processNowRegularValue"]];P.push(o)}function Lt(t){if(t.startsWith("class."))return"class";const e=Cs(t);return e!==!1?e:t.startsWith("style.")?"style":!1}function Cs(t){switch(t){case"autoselect":case"autoSelect":return"autoselect";case"autofocus":case"autoFocus":return"autofocus"}return!1}function Re(t,e,n,s){switch(s){case"autofocus":Tt.push([Vs,[n]]);return;case"autoselect":Tt.push([As,[n]]);return;case"style":{const o=t.split(".");U.push([Ts,[n,o,e]]);return}case"class":ks(t,e,n);return}throw new Error(`Invalid special attribute of ${s}. ${t}`)}function Ts(t,e,n){const s=e[1];t.style[s]=n,t.style.setProperty(s,n)}function ks(t,e,n){const s=t.split(".");if(s.shift(),e){for(const o of s)U.push([ws,[n,o]]);return}for(const o of s)U.push([Js,[n,o]])}function ws(t,e){t.classList.add(e)}function Js(t,e){t.classList.remove(e)}function As(t){t.select()}function Vs(t){t.focus()}function Ss(t,e,n){typeof t[e]!="object"&&(t[e]={});for(const s in n){const o=n[s];U.push([Ls,[t,e,s,o]])}if(t[e].setProperty)for(const s in n){const o=n[s];U.push([Ms,[t,e,s,o]])}}function Es(t,e,n){t.setAttribute(e,"")}function nt(t,e,n){if(Et(n))return Ss(t,e,n);Ue(t,e,n)}function ie(t,e,n){n?t[e]=!0:t[e]=!1}function Ue(t,e,n){if(t[e]=n,n===void 0||n===!1||n===null){t.removeAttribute(e);return}t.setAttribute(e,n)}function Ms(t,e,n,s){t[e].setProperty(n,s)}function Ls(t,e,n,s){t[e][n]=s}function xs(t,e,n,s,o){const r=t(),c={tagJsType:"dynamic-attr",matchesInjection:u=>{const l=a.tagJsVar;if(l.matchesInjection)return l.matchesInjection(u,a)},hasValueChanged:(u,l,f)=>{const d=t();return a.tagJsVar.hasValueChanged(d,a,f)},processInit:L,processInitAttribute:L,destroy:(u,l)=>{a.tagJsVar.destroy(a,l)},processUpdate:(u,l,f,d)=>{++l.updateCount;const g=u();a.tagJsVar.processUpdate(g,a,f,d),a.value=g}},a={updateCount:0,isAttr:!0,target:s,parentContext:e,value:r,tagJsVar:st(r),valueIndex:-1,withinOwnerElement:!0,destroy$:new C,render$:new C},i={updateCount:0,isAttr:!0,contexts:[a],target:s,parentContext:e,value:t,tagJsVar:c,valueIndex:-1,withinOwnerElement:!0,destroy$:new C,render$:new C};return a.tagJsVar.processInitAttribute(n,r,s,a.tagJsVar,a,{},o),i}function Ps(t,e,n,s,o,r,c){return n.target=s,n.howToSet=o,n.attrName=t,n.isSpecial=c,e!=null&&e.tagJsType?Ds(t,e,n,r,s):Nt(t,e,s,o,c,n)}function Ds(t,e,n,s,o){e.processInitAttribute(t,e,o,e,n,s,nt),n.tagJsVar=e}function Nt(t,e,n,s,o,r){if(typeof e=="function")return xs(e,r,t,n,s);if(o)return Re(t,e,n,o);s(n,t,e)}function Os(t,e,n,s,o,r){const c=e.tagJsVar,a=t;if(c.hasValueChanged(a,e,n)>0){c.destroy(e,n),s.removeAttribute(o);const u=st(t);u.isAttr=!0,u.processInitAttribute(o,t,s,u,e,n,r),e.tagJsVar=u;return}}function vs(t,e,n,s,o,r,c){s.destroy=Rs,s.hasValueChanged=Hs,s.processUpdate=(i,u,l)=>Os(i,u,l,n,t,c);const a=Lt(t);Nt(t,e,n,c,a,o),o.tagJsVar=s}function Rs(t){const e=t.target,n=t.attrName;e.removeAttribute(n)}function Fe(t){return{tagJsType:"simple",value:t,processInitAttribute:vs,processInit:Fs,destroy:He,hasValueChanged:Is,processUpdate:Us}}function Us(t,e,n){return t===e.value?0:te(e,t,n)}function Fs(t,e,n,s,o){const r=Mt(t);s=e.placeholder;const c=e.paint=[ke,[s,r,function(i){e.simpleValueElm=i,delete e.paint},"processSimpleValueInit"]];P.push(c)}function He(t){if(!t.simpleValueElm&&t.paint){t.paint[0]=L;return}const e=t.simpleValueElm;delete t.simpleValueElm,at(e,"deleteSimpleValue")}function Hs(t,e){return t==null||t===e.value?0:6}function Is(t,e){return t==null||typeof t!==b.object?(bs(t,e),0):(He(e),6)}function Ws(t,e){return x(t)?0:(Ne(e),9)}function Ie(t){return{tagJsType:"array",value:t,processInitAttribute:L,processInit:$s,processUpdate:Ns,hasValueChanged:Ws,destroy:Ne}}function Ns(t,e,n){if(++e.updateCount,Array.isArray(t)){wt(e,t,n);return}z(t,e,n)===0&&wt(e,t,n)}function $s(t,e,n,s,o){wt(e,t,n,o)}function st(t){return(t==null?void 0:t.tagJsType)?t:js(t)}function js(t){return x(t)?Ie(t):Fe(t)}function dt(t,e,n,s){return{updateCount:0,value:t,destroy$:new C,render$:new C,tagJsVar:st(t),withinOwnerElement:n,parentContext:s,valueIndex:s.varCounter}}function Bs(t,e,n,s){const o=dt(t,e,n,s);return e.push(o),++s.varCounter,o}function $t(t,e,n,s,o){const r=document.createTextNode(q),c=dt(t,n,!0,e.context);return c.withinOwnerElement=!1,c.placeholder=r,o||(c.placeholder=s),ve(t,e,c,o,s),o&&O.push([F,[o,r]]),c}function wt(t,e,n,s){const o=t.lastArray===void 0;o&&(t.lastArray=[]);const r=t.lastArray;let c=t.placeholder,a=0;const i=[];if(!o){for(let l=0;l<r.length;++l){const f=r[l],d=Gs(e,l,r,a);if(d===0){i.push(f);continue}if(d===2){l=l-1;continue}a=a+d}t.lastArray=i}const u=e.length;for(let l=0;l<u;++l)c=_s(e,l,t.lastArray,n,c,s).placeholder}function _s(t,e,n,s,o,r){const c=We(t[e]),a=n[e];if(a)return Ks(c,a,n,s,e,o,r);const i=$t(c,s,n,o,r);return n.push(i),i}function Ks(t,e,n,s,o,r,c){if(n.length>o)return Array.isArray(t)?(e.tagJsVar.processUpdate(t,e,s,[]),e.value=t,e):(z(t,e,s),e);const i=$t(t,s,n,r,c);return n.push(i),i}function We(t){return typeof t=="function"&&t.tagJsType===void 0&&(t=t()),t}function Gs(t,e,n,s){const o=t.length-1,r=e-s,c=r<0||o<r,a=n[e];if(c)return jt(a),1;const i=a.value.arrayValue,u=We(t[e]);return qs(i,u,a,n,e)}function qs(t,e,n,s,o){return e&&t!==e.arrayValue?(jt(n),s.splice(o,1),2):0}function jt(t){const e=t.global;zs(e,t)}function zs(t,e){var n;if(t&&((n=e.state)!=null&&n.oldest)){const s=e.state.oldest;ot(s,t);return}e.tagJsVar.destroy(e,{})}function Ne(t){++t.updateCount;const e=t.lastArray;$e(t,e)}function $e(t,e){for(let n=0;n<e.length;++n)jt(e[n]);delete t.lastArray}function Bt(t){for(let e=t.length-1;e>=0;--e){const n=t[e];Zs(n),t.splice(e,1)}}function Zs(t){const e=t.marker;e&&at(e,"destroyMarker");const n=t.domElement;at(n,"destroyClone")}function _t(t,e){const n=t.contexts;Xs(n,e),Kt(t)}function Kt(t){Bt(t.htmlDomMeta)}function Xs(t,e){var n;for(const s of t){if(s.withinOwnerElement){const i=s.tagJsVar;if(i&&i.tagJsType==="host"){const u=s.supportOwner,l=i.destroy(s,u);et(l)&&e.push(l)}continue}const o=s.lastArray;if(o){$e(s,o);continue}const r=s.simpleValueElm;if(r){delete s.simpleValueElm,at(r,"smartRemoveByContext");continue}const c=s.global;if(c===void 0)continue;if(c.deleted=!0,(n=s.state)==null?void 0:n.oldest){_t(s,e);continue}}}function ot(t,e){const n=t.context;e.deleted=!0,n.renderCount=0;const s=[],o=n.contexts;return Ut(o,t),t.templater.wrapper&&Pe(t,e),_t(n,s),delete n.state,delete n.contexts,delete n.returnValue,delete n.providers,s}function xt(t,e){var s;const n=ue(t,e);return!n&&((s=e.templater.tag)!=null&&s._innerHTML)&&ue(t.outerHTML,e)?!0:n}function ue(t,e){const n=t.templater,s=e.templater,o=(n==null?void 0:n.tag)||t,r=s.tag;if((n==null?void 0:n.tagJsType)===y.stateRender)return n.dom===s.dom;switch(o.tagJsType){case y.dom:return(r==null?void 0:r.tagJsType)!==y.dom?!1:Qs(o,r);case y.tag:return Ys(o,r,t,e)}throw new Error(`unknown tagJsType of ${o.tagJsType}`)}function Qs(t,e){const n=t.dom,s=e.dom;return n===s}function Ys(t,e,n,s){const o=t.strings,r=e.strings;if(o.length!==r.length||!o.every((u,l)=>r[l].length===u.length))return!1;const a=n.templater.values||t.values,i=s.templater.values||e.values;return to(a,i)}function to(t,e){return t.length===e.length?!!e.every(function(r,c){const a=t[c];return typeof r===b.function&&typeof a===b.function?r.toString()===a.toString():!0}):!1}function pt(t){++t.updateCount;const e=t.global,s=t.state.newest;ot(s,e),eo(t)}function eo(t){t.htmlDomMeta=[],delete t.contexts,delete t.state,delete t.global,t.renderCount=0}function no(t,e){var c,a,i;const n=(c=e.state)==null?void 0:c.newest,s=we(t),o=t;return s?xt(o,n)?0:7:(t==null?void 0:t.tagJsType)?((a=t.wrapper)==null?void 0:a.original)===((i=e.value.wrapper)==null?void 0:i.original)?0:88:8}function Pt(t,e){var a;const n=e.global,s=(a=e.state)==null?void 0:a.newest,o=we(t),r=t;if(o)return xt(r,s)?(Ht(e,t,s),0):(ot(s,n),G(e),7);if(t==null?void 0:t.tagJsType){const l=e.state.newest.ownerSupport;return Ht(e,t,l)===!0?0:88}return pt(e),8}function so(t,e,n,s,o,r,c){const a=document.createTextNode(q),i=o>0,u=Bs(t,e,i,s);return u.placeholder=a,u.target=r,r?O.push([F,[r,a]]):P.push([j,[c,a,"attachDynamicDom.attachDynamicDom"]]),ve(t,n,u,r,c),u}function oo(t,e){return ro(t,e)}function ro(t,e,n=[]){const s=t.context;n.push({support:t,renderCount:s.renderCount,provider:e});const o=e.children;for(let r=o.length-1;r>=0;--r){const c=o[r],a=c.context;n.push({support:c,renderCount:a.renderCount,provider:e})}return n}function co(t){const n=t.context.providers;if(!n)return[];const s=[];for(const o of n){const r=o.owner,c=oo(r,o);s.push(...c.map(ao))}return s}function ao(t){return t.support}function Gt(t,e,n){return t}function io(t){return typeof t!==b.object||!t||t.tagJsType}function uo(t,e,n,s,o,r){var a;const c=Object.keys(t);for(const i of c){const u=t[i],l=e[i],f=qt(l,u,n,s,r,o+1);u===f||(a=Object.getOwnPropertyDescriptor(t,i))!=null&&a.set||(t[i]=f)}return t}function lo(t,e,n,s,o,r){for(let c=t.length-1;c>=0;--c){const a=t[c],i=e[c];t[c]=qt(i,a,n,s,r,o+1)}return t}function qt(t,e,n,s,o,r){return t==null||r>o?e:typeof t===b.function?e.mem?(t.mem=e.mem,e):(t.mem=e,t):io(e)?e:x(e)?lo(e,t,n,s,r,o):uo(e,t,n,s,r,o)}function fo(t,e,n){var d;const s=n.global,o=n.state.newest,r=o.templater.wrapper;let c=e.templater.wrapper,a=!1;const i=e.templater.tagJsType,u=y.stateRender===i||y.renderOnce===i;if(u)a=e.templater.tagJsType===y.renderOnce||xt(o,e);else if(r&&c){((d=o.templater.tag)==null?void 0:d._innerHTML)&&(c=e.outerHTML);const h=r.original,m=c.original;a=h===m}const l=e.templater;if(!a){ho(n,l,t);return}if(!(u||nc(o,l))){const g=l.propWatch===S.DEEP?ht:Qt;go(l,e,o,t,g);return}if(n.locked){s.blocked.push(e);return}it(e),++n.renderCount}function je(t,e,n,s,o,r=-1){const c=e.context;if(!c.global||!c.state.newest){const g=Gt(s);s.push(...g);const h=t.propsConfig;return h.castProps=g,s}e=c.state.newest||e;const l=e.propsConfig.castProps,f=[];for(let g=0;g<s.length;++g){const h=s[g],m=l[g],w=qt(m,h,t,n,o,r+1);f.push(w)}const d=t.propsConfig;return d.castProps=f,f}function po(t,e){const n=t.context,s=n.global;let o=-1;const r=n.providers=n.providers||[],c=r.length-1;for(;o++<c;){const a=r[o];let i=-1;const u=a.children.length-1;for(;i++<u;){const l=a.children[i];if(s===l.context.global){a.children.splice(i,1),a.children.push(e);return}}}}function go(t,e,n,s,o){const r=t.props,c=je(e,n,s,r,o),a=e.propsConfig;a.castProps=c;const i=n.propsConfig;return i.latest=a.latest,n}function ho(t,e,n){const s=t.global,o=t.state.oldest;ot(o,s),G(t),e.processInit(e,t,n,t.placeholder)}function Ft(t){const e=t.context,n=e.global,{subs:s,tags:o}=De(e.contexts);le(e);for(const c of o){if(c.context.global.deleted===!0)return;le(c.context)}n.subscriptions&&s.forEach(Oe),G(e)}function le(t){t.global.deleted=!0,_t(t,[]),delete t.contexts}function Be(t,e,n,s){const o=e.original,r=t.tagJsType===y.stateRender,c=k.stateConfig;St(n);let a;return r?a=t():(a=o(...s),typeof a===b.function&&a.tagJsType===void 0&&(a=a())),n.context.returnValue=a,n.returnValue=a,a.templater=t,t.tag=a,n.context.state.newer={...c},D(),n}function yo(t,e){const n=t.context;++n.renderCount,bo(t.context),k.tagClosed$.next(e)}function bo(t){mo(t),Co()}function mo(t){const e=k.stateConfig,n=t||e.context;n.state=n.state||{},n.state.newer={...e};const s=e.support;n.state.newest=s}function Co(){const t=k.stateConfig;delete t.prevSupport,delete t.support,delete t.state,delete t.states,D()}function _e(t,e,n,s){let o;const r=t.templater;if(r.tagJsType===y.stateRender){const c=r;o=yt(r,n,s,t.appSupport),Be(r,c,o)}else{const c=r.wrapper;o=c(t,n,e)}return yo(o,s),o.ownerSupport=t.ownerSupport,o}function To(t){const e=k.stateConfig;return e.rearray=t,e.state=[],e.states=[],e.statesIndex=0,e.handlers.handler=ss,e.handlers.statesHandler=Yn,e}function ko(t,e,n){To(n);const s=k.stateConfig;s.prevSupport=e,St(t)}function wo(t,e,n,s){const r=n.state.older.state;return ko(t,e,r),_e(t,e,n,s)}function zt(t,e,n,s){Ve(t.context),St(t);const o=_e(t,e,n,s);return D(),o}function Jo(t){var s;const e=t==null?void 0:t.context,n=e==null?void 0:e.state;return(s=n==null?void 0:n.older)==null?void 0:s.state}function Ao(t,e,n){let s;Jo(e)?s=wo(t,e,n):s=zt(t,e,n);const r=!e||xt(e,s);if(r){if(e){const c=e.templater.tag;if(c&&n.renderCount>0){const a=e==null?void 0:e.templater,i=a==null?void 0:a.tag;Vo(c,e,i)}}}else{po(e,s),Ft(e);const c=s.context;c.state.oldest=s,c.state.newest=s}return s.ownerSupport=t.ownerSupport,{support:s,wasLikeTags:r}}function Vo(t,e,n){if(t.tagJsType===y.dom){const s=n==null?void 0:n.dom,o=t.dom;s!==o&&Ft(e);return}if(n){const s=n.strings;if(s){const o=s==null?void 0:s.length,r=t.strings.length;o!==r&&Ft(e)}}}function So(t,e,n){const s=Ao(e,t,n);if(s.wasLikeTags){const o=n.state.oldest;return Me(o,s.support),s.support}return hn(e,n)}function Ke(t){return y.templater===t.tagJsType}function it(t){const e=t.context,n=e.global,s=t.templater,o=Ke(s);if(e.locked)return n.blocked.push(t),t;if(o)return Eo(t);e.locked=4,n.blocked.length&&(t=n.blocked.pop(),n.blocked=[]);const r=So(e.state.newest,t,e);return delete e.locked,r}function Eo(t){const s=ft(t).context.state.newest;return it(s)}function Mo(t,e){const n=e.context.global;return n&&n.deleted?!1:!!Lo(t,e)}function Lo(t,e){const n=t.props,o=e.propsConfig.latest;if(Ge(n,o))return!0;switch(t.propWatch){case S.IMMUTABLE:return En(n,o);case S.SHALLOW:return xe(n,o)}return!Le(n,o,ht)}function Ge(t,e){const n=t.length,s=e.length;return n!==s}function Jt(t,e=[]){const n=t.context,s=t.templater,o=Ke(s),r=t.ownerSupport;if(n.locked)return e.push(t),e;if(o)return Jt(r,e);const c=t.context.global;if(c&&c.deleted===!0)return e;const a=t,i=lt(a.templater),u=t.templater.tagJsType,f=r&&u!==y.stateRender&&(!i||Mo(a.templater,a));if(a.context.providers){const g=co(a);e.push(...g)}return f?(Jt(r,e),i&&e.push(a),e):(e.push(a),e)}function Zt(t){++V.locks,t.forEach(xo),--V.locks,N()}function xo(t){const e=t.context;if(!e.global){e.tagJsVar.processUpdate(e.value,e,t.ownerSupport,[]);return}const s=e.state;it(s.newest)}function Po(t,e){const n=t.context.state,s=e.context.state,o=n.newer.states,r=s.newer.states;return Do(o,r)}function Do(t,e){for(let n=0;n<t.length;++n){const s=t[n],o=e[n];Ro(s,o)}}let qe;function Oo(...t){return qe=t,t}function vo(){return qe}function Ro(t,e){t(Oo,1),e(vo,2)}function Uo(t,e,n,s){for(let o=t.length-1;o>=0;--o){const c=t[o].get(),i=e[o].callback;i&&i(c)}for(let o=s.length-1;o>=0;--o){Xt.length=0,ze=0;const r=s[o];r(Fo),n[o](Ho)}}let ze=0;const Xt=[];function Fo(...t){return Xt.push(t),t}function Ho(...t){return Xt[ze++]}function Ze(t,e,{resolvePromise:n,resolveValue:s}){if(et(t)){const r=e.context;return r.locked=2,t.then(Io(e,n))}return s(t)}function Io(t,e){return n=>{const s=t.context,o=s.global;if(delete s.locked,s.deleted===!0||(o==null?void 0:o.deleted)===!0)return e(n);Po(t,s.state.newest);const r=Jt(t);return Zt(r),e(n)}}function Wo(t,e){const n=e.context.global,s=function(r,c){if(n.deleted!==!0)return No(s.tagFunction,s.support,r,c)};return s.tagFunction=t,s.support=e,s}function No(t,e,n,s){const o=ft(e),r=o.context;r.locked=1;const c=t.apply(n,s);return delete r.locked,Xe(c,o)}function Xe(t,e){const n=e.context.global;if(n!=null&&n.deleted)return;const s=Jt(e);return Zt(s),Ze(t,e,{resolvePromise:Bo,resolveValue:_o})}const $o="no-data-ever",jo="promise-no-data-ever";function Bo(){return jo}function _o(){return $o}function Qe(t,e,n){const s=n[e];if(s){let r=!1;if(t.originalStopPropagation=t.stopPropagation,t.stopPropagation=function(){r=!0,t.originalStopPropagation.call(t),t.stopPropagation=t.originalStopPropagation,delete t.originalStopPropagation},s(t),t.defaultPrevented||r)return}const o=n.parentNode;o&&Qe(t,e,o)}function Ye(t,e,n,s){const o=t.appElement,r=Ko(e);e==="blur"&&(e="focusout");const a=t.context.events;if(!a[e]){const i=function(l){Qe(l,r,l.target)};a[e]=i,o.addEventListener(e,i)}n[r]=s,n[e]=s}function Ko(t){return t==="blur"&&(t="focusout"),"_"+t}function tn(t,e,n,s){const o=function(...r){return o.tagFunction(t,r)};o.tagFunction=e,o.support=n,Ye(n.appSupport,s,t,o)}function en(t){return t==null||t===!1}function nn(t,e,n,s,o,r,c){if(en(e))return;const a=[];if(typeof e===b.object){for(const i in e){const u=Lt(i),l=e[i],d=rn(i,l,t,n,s,nt,r,c,u);d!==void 0&&(Array.isArray(d)?a.push(...d):a.push(d))}return a}e.length!==0&&o(n,e,q)}function Go(t,e,n,s,o,r,c,a){if(n){if(en(e)||e===""){s.removeAttribute(n);return}if(typeof n===b.object)if(typeof e===b.object)for(const l in n)l in e||U.push([fe,[s,l]]);else for(const l in n)U.push([fe,[s,l]])}const i=nn(t,e,s,o,r,c,a);i&&c.push(...i)}function fe(t,e){t.removeAttribute(e)}function sn(t,e,n,s){const o=e,r=t;if(r!=null&&r.tagJsType){const a=e.value;if(!(a!=null&&a.tagJsType)){r.isAttr=!0,v(e),r.processInitAttribute(o.attrName,t,o.target,r,o,n,nt),D(),o.tagJsVar=r;return}a.hasValueChanged(r,e,n);return}if(o.isNameOnly){Go(s,t,o.value,o.target,n,o.howToSet,[],o.parentContext),o.value=t;return}const c=o.target;Qo(t,o.attrName,o,c,n,o.howToSet,o.isSpecial),e.value=t}const J=":tagvar",H=":",At=new RegExp(J+"(\\d+)"+H,"g");function on(t){return t.search&&t.startsWith(J)?t.search(At):-1}function qo(t,e,n,s,o,r,c){const a=s.length,i=[];e.forEach(l=>{if(on(l)>=0){const d=s.length,g=st(l),h={updateCount:0,isAttr:!0,target:n,attrName:t,withinOwnerElement:!0,tagJsVar:g,valueIndex:c.varCounter,parentContext:c,destroy$:new C,render$:new C};g.processUpdate=function(E,I,M,rt){++I.updateCount,u(rt)};const m=r[d];h.value=m,i.push(h),++c.varCounter}});function u(l){const f=zo(e,l,a).join("");o(n,t,f)}return u(r),i}function zo(t,e,n){return t.reduce((s,o)=>{if(on(o)>=0){const c=n++,a=e[c];return s.push(a),s}return s.push(o),s},[])}function Zo(t,e,n,s,o,r,c,a,i){if(typeof e===b.function)return++o.varCounter,an(e,c,t,n);const u=st(e),l={updateCount:0,isAttr:!0,target:n,attrName:t,howToSet:r,value:e,withinOwnerElement:!0,tagJsVar:u,destroy$:new C,render$:new C,valueIndex:i,parentContext:o};return s.push(l),u.processUpdate=sn,Ps(t,e,l,n,r,c,a),l.value=e,l}function de(t){return Et(t)&&"tagJsVar"in t?t.tagJsVar:-1}function Xo(t,e,n,s,o,r,c,a,i){const u=dt(t,e||[],!0,n);return u.target=a,u.valueIndex=o,u.isAttr=!0,u.isNameOnly=i,u.stateOwner=ft(r),u.supportOwner=r,v(u),s.processInitAttribute(c,t,a,s,u,r,nt),D(),u.oldTagJsVar=u.tagJsVar,u.tagJsVar=s,u}function rn(t,e,n,s,o,r,c,a,i){const u=de(t);let l=u>=0||e===void 0&&typeof t!="string",f=n[u];e!=null&&e.tagJsType?f=e:t!=null&&t.tagJsType&&(l=!0,f=t,e=t);const d=f;if(d!=null&&d.tagJsType)return Xo(e,[],a,d,u,o,t,s,l);if(l){u===-1&&l&&(f=t);const h=dt(f,[],!0,a);h.valueIndex=u,h.isAttr=!0,h.target=s,h.isNameOnly=!0,h.howToSet=r;const m=h.tagJsVar;m.processUpdate=sn;const w=nn(n,f,s,o,r,c,a);return w&&c.push(...w),h}if(Array.isArray(e))return qo(t,e,s,[],r,n,o.context);const g=de(e);if(g>=0){const h=n[g];return Zo(t,h,s,[],a,r,o,i,g)}return Nt(t,e,s,r,i,a)}function Qo(t,e,n,s,o,r,c){return B(t)?Yo(o,t,s,e,c,r):cn(t,s,e,c,r,o)}function cn(t,e,n,s,o,r){if(s!==!1){Re(n,t,e,s);return}switch(t){case void 0:case!1:case null:U.push([tr,[e,n]]);return}if(B(t))return tn(e,t,r,n);o(e,n,t)}function Yo(t,e,n,s,o,r,c){var l;const a=t.templater.wrapper;return((a==null?void 0:a.tagJsType)||((l=a==null?void 0:a.original)==null?void 0:l.tagJsType))===y.renderOnce?cn(e,n,s,o,r,t):an(e,t,s,n)}function an(t,e,n,s){return t=Wo(t,e),tn(s,t,e,n)}function tr(t,e){t.removeAttribute(e)}function un(t,e,n,s,o){for(const r of t){const c=r[0],a=r[1],i=r[2]||!1;let u=r.length>1?nt:Es;r[3]&&(u=r[3]);const l=o.contexts,f=rn(c,a,e,n,s,u,l,o,i)||void 0;typeof f=="object"&&(l.push(f),++o.varCounter)}}function er(t,e,n,s,o,r,c){e.at&&un(e.at,n,t,s,o),r?O.push([F,[r,t,"appendToAttachDomElement"]]):P.push([j,[c,t,"insertBeforeAttachDomElement"]])}function ln(t,e,n,s,o,r,c){const a=n.context,i=a.contexts;s=a;const u=[];r&&c===void 0&&(c=document.createTextNode(q),O.push([F,[r,c]]),r=void 0);for(let l=0;l<t.length;++l){const f=t[l],d=f.v;if(!isNaN(d)){const E=Number(d),I=e[E];if(B(I)&&I.tagJsType===void 0){++s.varCounter;continue}const rt=so(I,i,n,s,o,r,c);rt.valueIndex=E;continue}const h={};if(u.push(h),f.nn==="text"){nr(h,f,r,c);continue}const m=h.domElement=document.createElement(f.nn),w={updateCount:0,isAttrs:!0,target:m,parentContext:s,contexts:[],destroy$:new C,render$:new C,tagJsVar:{tagJsType:"new-parent-context"},valueIndex:-1,withinOwnerElement:!0};w.varCounter=0,er(m,f,e,n,w,r,c),w.target=m,f.ch&&(h.ch=ln(f.ch,e,n,w,o+1,m,c).dom)}return{dom:u,contexts:i}}function nr(t,e,n,s){const o=t,r=o.tc=e.tc;if(n){O.push([zn,[n,r,function(a){o.domElement=a}]]);return}P.push([qn,[s,r,function(a){o.domElement=a}]])}const fn=/(:tagvar\d+:)/,pe="ondoubleclick",sr=/([:_a-zA-Z0-9\-.]+)\s*(?:=\s*"([^"]*)"|=\s*(\S+))?/g,or=/<\/?([a-zA-Z0-9-]+)((?:\s+[a-zA-Z_:*][\w:.-]*(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'=<>`]+))?)+\s*|\s*)\/?>/g;function rr(t){const e=[],n=[],s=[];let o=null,r=-1,c=0;const a=new RegExp(or,"g");for(t=ar(t);c<t.length;){const i=a.exec(t);if(!i)break;const[u,l,f]=i,d=u.startsWith("</"),g=u.endsWith("/>");if(c<i.index){const E=t.slice(c,i.index);if(E.trim()){const I=he(E);for(let M of I)M.startsWith(J)&&M.search(fn)>=0&&M.search(pn)===-1&&(M=J+ ++r+H),ge(o,n,M)}}if(c=i.index+u.length,d){o=s.pop()||null;continue}const h=[];let m;for(;(m=sr.exec(f))!==null;)r=dr(m,r,e,h);const w={nn:l};h.length&&(w.at=h),o?(o.ch||(o.ch=[]),o.ch.push(w)):n.push(w),g||(s.push(o),o=w)}if(c<t.length){const i=t.slice(c);if(i.trim()){const u=he(i);for(const l of u)l.startsWith(J)&&++r,ge(o,n,l)}}return n}const cr=new RegExp("(<!--[\\s\\S]*?-->)","g");function ar(t){return t.replace(cr,function(e){return e.replace(/\[l t\]/g,"[l&nbsp;t]").replace(/\[g t\]/g,"[g&nbsp;t]").replace(/</g,"[l t]").replace(/>/g,"[g t]")})}function ir(t){return t.startsWith("on")?t.length===pe.length&&t===pe?"dblclick":t.slice(2,t.length):t}function ge(t,e,n){const s={nn:"text",tc:ur(n)};lr(t,e,s)}function ur(t){return t.replace(/(\[l t\]!--[\s\S]*?--\[g t\])/g,function(e){return e.replace(/\[l t\]/g,"<").replace(/\[g t\]/g,">").replace(/\[l&nbsp;t\]/g,"[l t]").replace(/\[g&nbsp;t\]/g,"[g t]")})}function lr(t,e,n){t?(t.ch||(t.ch=[]),t.ch.push(n)):e.push(n)}function he(t){return t.split(fn).filter(fr)}function fr(t){return t!==""}function dr(t,e,n,s){const o=t[1]||t[3]||t[5];let c=t[2]||t[4]||t[6];if(o===void 0)return e;const a=t[2]!=="",i=c===void 0&&a,u=o.toLowerCase(),l=u.startsWith("on")?ir(u):u;if(i){if(o.slice(0,J.length)===J){const M=J+ ++e+H;return n.push(["at",M]),s.push([M]),e}if(t[0].startsWith(o)&&t[0].slice(o.length,t[0].length).search(/\s+$/)>=0)return s.push([l]),e;const E=t[3];if(E.search(pn)>=0){c=E;const M=[l,c];return s.push(M),e}else c=J+ ++e+H}a||(c=t[2]);const f=c.split(gr).filter(h=>h.length>0);f.length>1&&(c=f,f.forEach(h=>{h.search(At)>=0&&++e}));const d=[l,c],g=Lt(u);return g&&d.push(g),l==="style"?(s.unshift(d),e):(s.push(d),e)}const pr=new RegExp(J+"(\\d+)"+H,"gi"),gr=new RegExp("("+J+"\\d+"+H+")","gi"),dn=J.slice(0,J.length-1),pn=new RegExp(dn+"&#x72;(\\d+)"+H,"gi"),hr=dn+"&#x72;$1"+H;function yr(t,e){const n=br(t,e).join("");return rr(n)}function br(t,e){return mr(t,e)}function mr(t,e){const n=[];for(let s=0;s<t.length;++s){const r=t[s].replace(pr,hr);if(s<e.length){n.push(r+J+s+H);continue}n.push(r)}return Cr(n,t,e),n}function Cr(t,e,n){const s=n.length-e.length;if(s>0)for(let o=s;o>0;--o)t.push(J+(e.length+o-1)+H)}const Tr="ch";function gn(t,e,n=[],s=[]){const o=t;for(let r=0;r<o.length;r++){const c=[...s,r],a=o[r];if(a.at){const i=a.at;a.at=wr(i,e)}if(a.ch){const i=a.ch,u=[...c,Tr];a.ch=gn(i,e,n,u)}r=kr(a,e,o,r)}return o}function kr(t,e,n,s){if(t.nn!=="text")return s;const o=t;let r=o.tc;if(typeof r!==kt.string)return s;let c;for(;(c=At.exec(r))!==null;){const a=c[1],i=parseInt(a,10);if(!isNaN(i)&&i<e){const l=J+i+H,f=r.slice(c.index+l.length);n.splice(s,1,{nn:"text",v:i}),r=f,At.lastIndex=0}}return o.tc=r,s}function wr(t,e){const n=[];for(const s of t){const[o,r,c]=s;if(o.startsWith(J)){const a=parseInt(o.replace(J,""),10);if(!isNaN(a)&&a<e){n.push([{tagJsVar:a}]);continue}}if(typeof r===kt.string&&r.startsWith(J)){const a=parseInt(r.replace(J,""),10);if(!isNaN(a)&&a<e){n.push([o,{tagJsVar:a},c]);continue}}n.push(s)}return n}function Jr(t,e,n){return!!(n&&n.strings.length===t.length&&n.strings.every((o,r)=>o===t[r])&&n.values.length===e.length)}function Ar(t){const e=t.map(Vr);return e.push(t.length),Number(e.join(""))}function Vr(t){return t.length}const ye={};function Sr(t,e){const n=Ar(t),s=ye[n];if(s&&Jr(t,e,s))return s.domMetaMap;const r=yr(t,e),c=gn(r,e.length),a={interpolation:void 0,string:void 0,strings:t,values:e,domMetaMap:c};return ye[n]=a,c}function Dt(t,e,n){const s=t.context;s.state=s.state||{};const o=s.state;o.oldest=t,o.newest=t,s.state.older=s.state.newer,++V.locks;const r=Er(t,t.context,e,n);return s.htmlDomMeta=r.dom,--V.locks,r}function Er(t,e,n,s){const o=Mr(t),c=t.templater.tag.values,a=[],i=t.context;return e=i,i.contexts=a,ln(o,c,t,e,0,n,s)}function Mr(t){const n=t.templater.tag;if(n.tagJsType===y.dom)return n.dom;const s=n.strings;return Sr(s,n.values)}function hn(t,e){const n=e.state.newest,s=e.placeholder;return n.ownerSupport=t,Dt(n,void 0,s),n}function yn(t,e,n){const s=cc(t,e,e.appSupport,n);return n.contexts=n.contexts||[],s}function bn(t,e,n,s,o){const r=yn(t,n,e);r.ownerSupport=n;const c=Dt(r,s,s?void 0:o);for(const a of c.dom)a.marker&&(s?O.push([F,[s,a.marker]]):P.push([j,[o,a.marker,"subMarker"]])),a.domElement&&(s?O.push([F,[s,a.domElement,"subAppendTo"]]):P.push([j,[o,a.domElement,"subInsertBefore"]]));return r}function Lr(t,e,n,s,o){return e.state={},o?bn(t,e,n,o,s):hn(n,e)}function mn(t,e){const n={tagJsType:y.templater,processInit:Lr,processInitAttribute:L,processUpdate:z,hasValueChanged:Pt,destroy:pt,propWatch:t,props:e,key:function(o){return n.arrayValue=o,n},matchesInjection(s,o){var r;if(n.wrapper===s||((r=n.wrapper)==null?void 0:r.original)===(s==null?void 0:s.original))return o}};return n}const ut=[];function xr(t,e){return function(o,r,c){const a=Cn(t,o,c),i=o.ownerSupport,u=yt(t,r,i,o.appSupport,a);return Be(t,e,u,a)}}function Cn(t,e,n){const s=t.propWatch===S.DEEP?ht:Qt,o=t.props,r=e.propsConfig;let c=r.castProps;const a=n==null?void 0:n.propsConfig,i=a==null?void 0:a.castProps;return i&&(r.castProps=i,c=je(e,n,n.ownerSupport,o,s)),c||Gt(o)}function Pr(t,e,n){const s=mn(S.DEEP);s.tagJsType=t.tagJsType;const o=yn(s,n,e);function r(){return s.tag=t(),o}return s.wrapper=r,r.tagJsType=t.tagJsType,r.original=t.original||t,o}function Dr(t,e,n,s,o){G(e);const r=Pr(t,e,n);return zt(r,void 0,e),bn(r.templater,e,n,o,s)}function Or(t,e){const n=Dt(t,e,void 0);for(const s of n.dom)s.domElement&&O.push([F,[e,s.domElement]]),s.marker&&O.push([F,[e,s.marker]]);return t}function vr(t,e){++t.updateCount;const n=t.subContext,s=Rr(n,e);return delete t.subContext,s}function Rr(t,e){t.deleted=!0;const n=t.appendMarker;if(n&&(at(n,"deleteSubContext"),delete t.appendMarker),!t.hasEmitted)return;const s=t.contextItem;return s.tagJsVar.destroy(s,e),76}function Ur(t,e,n,s){return e.hasEmitted=!0,e.contextItem=$t(t,n,[],s)}function Tn(t,e,n){var c;++e.updateCount;const o=t.owner._innerHTML;o.processInit=o.oldProcessInit;const r=(c=e.subContext)==null?void 0:c.contextItem;te(r,o,n)}function Fr(t,e,n,s,o){e.subContext={},t.processUpdate=Tn,Hr(t,n,e,s,o)}function Hr(t,e,n,s,o){const{appendMarker:r,insertBefore:c}=uc(o,s),a=n.subContext;a.appendMarker=r;const u=t.owner._innerHTML;u.processInit=u.oldProcessInit,Ur(u,a,e,c)}function kn(){return{tagJsType:"innerHTML",hasValueChanged:()=>0,processInitAttribute:L,processInit:Fr,processUpdate:Tn,destroy:vr}}function Ir(t,e,n,s){const o={tagJsType:"tag-conversion",processInitAttribute:L,processInit:(r,c,a)=>{const i=t.returnValue;return e.tagJsVar.processInit(i,e,n,s.placeholder)},processUpdate:(r,c,a)=>{if(c.locked||c.deleted)return;++c.updateCount;const u=c.value.tagJsType,f=(r==null?void 0:r.tagJsType)!==u;if(no(r,c)||f||o.hasValueChanged(r,c,n)){o.destroy(c,n),Yt(r,c,a,789);return}c.locked=467,c.render$.next();const h=c.returnValue;Wr(e,r,c,h,n),delete c.locked},hasValueChanged:(r,c,a)=>{const i=t.returnValue;return e.tagJsVar.hasValueChanged(i,e,a)},destroy:(r,c)=>{++t.updateCount,t.deleted=!0,delete t.returnValue;const a=e.tagJsVar.destroy(e,n);return et(a)?a.then(()=>{const i=be(t);return N(),i}):(t.destroy$.next(),be(t))}};return o}function wn(t,e,n){const s=t.context,o=t.returnValue,r=st(o);delete s.global,s.contexts=[];const c={updateCount:0,value:o,tagJsVar:r,destroy$:new C,render$:new C,placeholder:s.placeholder,valueIndex:-1,withinOwnerElement:!0,parentContext:s,contexts:s.contexts},a=Ir(s,c,t,n);return s.tagJsVar=a,r.processInit(o,c,t,n.placeholder),t}function Jn(t,e,n){const s=yt(t,e,n,n==null?void 0:n.appSupport),o=s.propsConfig;if(o){const c=t.tagJsType!==y.tagComponent?[]:Cn(t,s);o.castProps=c}return zt(s,e.state.newest,e)}function An(t,e,n){const s=Jn(t,e,n),o=s.templater.tag;return["dom","html"].includes(o.tagJsType)?(Dt(s,void 0,e.placeholder),s):wn(s,s.ownerSupport,e)}function Wr(t,e,n,s,o){const r=Gt(e.props);t.value.props=r;const c=o.propsConfig;if(c&&(c.castProps=r),t.updatesHandler=n.updatesHandler,n.updatesHandler){v(n);const a=n.updatesHandler;a(r),D()}t.tagJsVar.processUpdate(s,t,o,[]),t.value=s}function be(t,e){delete t.returnValue,delete t.global,t.contexts=[],t.htmlDomMeta=[],delete t.updatesHandler}function Nr(t,e,n,s){const o=Jn(t,e,n),r=o.templater.tag;return["dom","html"].includes(r.tagJsType)?Or(o,s):wn(o,n,e)}function Vn(t,e,n,s,o){return G(e),o?Nr(t,e,n,o):An(t,e,n)}function $r(t){var o,r;const e=$();if(!e)throw new Error("tag.inject can only be called within a tag or host context");let n=e.parentContext;for(;n;){const c=n.contexts;if(c){for(const a of c)if(a.isAttr&&((o=a.tagJsVar)!=null&&o.matchesInjection)){const i=a.tagJsVar.matchesInjection(t,a);if(i!==void 0)return i.returnValue}}if((r=n.tagJsVar)!=null&&r.matchesInjection&&n.tagJsVar.matchesInjection(t,n))return n.returnValue;n=n.parentContext}const s=`Could not find parent context for tag.inject ${t}`;throw console.error(s,{targetItem:t,context:e}),new Error(s)}function W(t){return k.stateConfig.handlers.handler(t)}function jr(t){return W(()=>{const e=t();if($().global){const s=mt();return Ze(e,s,{resolvePromise:Br,resolveValue:_r})}}),T}function Br(t){return t}function _r(t){return t}function Kr(t){return W(function(){$().destroy$.toCallback(t)}),T}function Gr(t){const e=$(),n=r=>{const c=$();v(e);const a=t();return D(),v(c),a},s=e.render$.subscribe(()=>n()),o=n();return T.onDestroy(()=>s.unsubscribe()),o}let qr=0;const ct=Sn("click"),Q=Sn("mousedown");function Sn(t){return function(n){const s=hc(n);return W(()=>{xn().addEventListener(t,s)}),s}}const zr={get:xn,onclick:ct,click:ct,onClick:ct,mousedown:Q,onmousedown:Q,onMouseDown:Q};gt("onclick",ct);gt("click",ct);gt("onMouseDown",Q);gt("onmousedown",Q);gt("mousedown",Q);function gt(t,e){Object.defineProperty(T,t,{get(){return e},set(n){return e(n)}})}var S;(function(t){t.DEEP="deep",t.SHALLOW="shallow",t.NONE="none",t.IMMUTABLE="immutable"})(S||(S={}));function T(t,e=S.SHALLOW){const n=function(...c){const a=mn(e,c);a.tagJsType=y.tagComponent,a.processInit=Vn,a.hasValueChanged=Pt;const i=xr(a,n);return i.original=t,a.wrapper=i,a},s=t;n.original=t,s.tags=ut,s.setUse=k,s.ValueTypes=y,s.tagIndex=qr++,ut.push(n);const o=n;return o.updates=r=>{const c=$();return c.updatesHandler=r,!0},o.getInnerHTML=kn,o}function Zr(t){throw new Error("Do not call tag.route as a function but instead set it as: `tag.route = (routeProps: RouteProps) => (state) => html`` `")}function Xr(){throw new Error("Do not call tag.renderOnce as a function but instead set it as: `(props) => tag.renderOnce = () => html`` `")}function Qr(){throw new Error("Do not call tag.use as a function but instead set it as: `(props) => tag.use = (use) => html`` `")}T.element=zr;T.renderOnce=Xr;T.use=Qr;T.deepPropWatch=T;T.route=Zr;T.inject=$r;T.onInit=jr;T.onDestroy=Kr;T.onRender=Gr;T.getInnerHTML=kn;T.app=function(t){throw new Error("Do not call tag.route as a function but instead set it as: `tag.route = (routeProps: RouteProps) => (state) => html`` `")};T.immutableProps=function(e){return T(e,S.IMMUTABLE)};T.watchProps=function(e){return T(e,S.SHALLOW)};Object.defineProperty(T,"renderOnce",{set(t){t.tagJsType=y.renderOnce,t.processInit=Dr,t.processUpdate=z,t.destroy=pt,t.hasValueChanged=function(){return 0}}});Object.defineProperty(T,"use",{set(t){t.original={setUse:k,tags:ut},t.tagJsType=y.stateRender,t.processInit=Vn,t.processUpdate=z,t.hasValueChanged=Pt,t.destroy=pt}});function Yr(t,e,n){if(Ge(t,e))return 11;switch(n){case S.NONE:return 1;case S.SHALLOW:return xe(t,e);case S.IMMUTABLE:return En(t,e)}return tc(t,e)}function tc(t,e){let n=t,s=e;return n=[...t],s=[...e||[]],n.every((r,c)=>ec(r,c,n,s))?!1:7}function ec(t,e,n,s){const o=s[e];if(typeof t===b.object){const r={...t},c={...o||{}};return Object.entries(r).every(([i,u])=>me(u,c[i],()=>{delete r[i],delete c[i]}))}return me(t,o,function(){n.splice(e,1),s.splice(e,1)})}function me(t,e,n){if(typeof t!==b.function)return Le(t,e,ht)?4:!1;if(typeof e!==b.function)return!1;const o=e==null?void 0:e.original;o&&(e=o),t.original&&(t=t.original);const c=t.toString(),a=e.toString();return c===a?(n(),5):(n(),6)}function nc(t,e){const n=e.props,o=t.propsConfig.latest;return Yr(n,o,t.templater.propWatch)}function En(t,e){const n=t.length;for(let s=0;s<n;++s){const o=t[s],r=e[s];if(o!==r)return 2}return!1}const Qt=3,ht=10;function sc(t,e,n){const s=t.templater;if(s.tagJsType!==y.stateRender){switch(s.propWatch){case S.IMMUTABLE:return t.propsConfig={latest:e,castProps:n};case S.SHALLOW:return t.propsConfig={latest:e.map(oc),castProps:n}}return t.propsConfig={latest:e.map(rc),castProps:n}}}function oc(t){return Wt(t,Qt)}function rc(t){return Wt(t,ht)}function Mn(t,e,n){const s={templater:t,context:e,castedProps:n,appSupport:void 0},o=e.global;return o.blocked=[],e.state||(e.state={newer:{state:[],states:[]}}),s}function Ln(t,e,n,s){e.appSupport=n||e;const o=t.props;return o&&(e.propsConfig=sc(e,o,s)),e}function cc(t,e,n,s,o){const r={templater:t,context:s,castedProps:o,appSupport:void 0};return r.ownerSupport=e,r.appSupport=n,r}function yt(t,e,n,s,o){const r=Mn(t,e,o);return r.ownerSupport=n||r,r.ownerSupport.appSupport=s||r.ownerSupport,Ln(t,r,s,o)}function ac(t,e,n,s){let o=n.templater||n;const r=t.templater.tag;r&&r._innerHTML&&(o=n.outerHTML||n._innerHTML.outerHTML);const c=yt(o,e,s,s.appSupport),i=t.context.state.oldest;Me(i,c)}function Ht(t,e,n){if(lt(e))return t.global===void 0&&G(t),t.oldTagJsVar=t.tagJsVar,t.tagJsVar=e,ic(e,t,n),!0;if(t.global){t.oldTagJsVar=t.tagJsVar,t.tagJsVar=e;const r=t.state.newest;if(r)return typeof e===b.function||ac(r,t,e,n),!0}return e.processInit(e,t,n,t.placeholder),t.oldTagJsVar=t.tagJsVar,t.tagJsVar=e,!0}function ic(t,e,n){if(!e.state.newest){t.processInit(t,e,n,e.placeholder);return}const s=yt(t,e,n,n.appSupport);fo(n,s,e)}function Yt(t,e,n,s){const o=t&&t.tagJsType;if(delete e.deleted,o){if(o===y.renderOnce)return;Ht(e,t,n);return}if(x(t)){wt(e,t,n),e.oldTagJsVar=e.tagJsVar,e.tagJsVar=Ie(t);return}if(typeof t===b.function){e.value=t;return}s&&ms(t,e)}function te(t,e,n){const o=t.tagJsVar.hasValueChanged(e,t,n);return o===0||Yt(e,t,n,o),o}function uc(t,e){let n;return t&&(n=e=document.createTextNode(q),O.push([F,[t,e]])),{appendMarker:n,insertBefore:e}}class lc extends C{constructor(n){super(n);R(this,"value");this.value=n}subscribe(n){const s=super.subscribe(n);return n(this.value,s),s}}const fc=((t,e)=>ee(t,e).pastResult),dc=t=>t;function pc(t){const e=(n,s)=>ee(n,s,t).pastResult;return e.setup=t,ne(()=>e,e),e}const ee=(t,e,{init:n,before:s,final:o=dc}={})=>{const r=W({pastResult:void 0,values:void 0}),a=typeof t=="function"?t():t,i=r.values===void 0;let u=0;i&&typeof t=="function"&&T.onRender(()=>{if(++u,u===1)return;const f=t();l(f)});function l(f){if(r.values===void 0){if(s&&!s(f))return r.values=f,r;const m=(n||e)(f,r.values);return r.pastResult=o(m),r.values=f,r}if(f.every((h,m)=>h===r.values[m]))return r;if(s&&!s(f))return r.values=f,r;const g=e(f,r.values);return r.pastResult=o(g),r.values.length=0,r.values.push(...f),r}return l(a)};function ne(t,e){return Object.defineProperty(e,"noInit",{get(){const n=t();return n.setup.init=()=>{},n}}),Object.defineProperty(e,"asSubject",{get(){const n=t(),s=W(()=>mt()),o=W(()=>new lc(void 0)),r=W(()=>({state:k.stateConfig.state,states:k.stateConfig.states})),c=(a,i)=>(ee(a,(l,f)=>{const d=mt(),g=i(l,f);if(d!==s){const h=r.state,E=s.context.state.older;if(E){const I=E.state,M=r.states,rt=E.states;Uo(h,I,M,rt)}}o.next(g)},n.setup),o);return c.setup=n.setup,ne(()=>c,c),c}}),Object.defineProperty(e,"truthy",{get(){const n=t();return n.setup.before=s=>s.every(o=>o),n}}),e}ne(()=>pc({}),fc);class se extends Error{constructor(n,s,o={}){super(n);R(this,"details");this.name=se.name,this.details={...o,errorCode:s}}}class oe extends se{constructor(e,n){super(e,"sync-callback-error",n),this.name=oe.name}}function gc(t,e,n,...s){const o=n(...s),r=Je(t);if(!r)return o;if(r.context.global)it(r);else{const c=r.context;c.tagJsVar.processUpdate(c.value,c,r.ownerSupport,[])}return et(o)&&o.finally(()=>{if(t.global)it(r);else{const c=r.context;c.tagJsVar.processUpdate(c.value,c,r.ownerSupport,[])}}),o}function hc(t){const e=$(),n=W({callback:t}),s=W(()=>yc(e,k.stateConfig,n));return n.callback=t,s}function yc(t,e,n){const s=e.states;return function(...r){const c=gc(t,s,n.callback,...r);return N(),c}}new oe("callback() was called outside of synchronous rendering. Use `callback = callbackMaker()` to create a callback that could be called out of sync with rendering");function $(){return k.stateConfig.context}function xn(){return $().target}function v(t){return k.stateConfig.context=t}function D(){delete k.stateConfig.context}function bc(t,e,n,s,o,r,c){const a=document.createTextNode(q);if(ut.push(n.wrapper||{original:n}),r.placeholder=a,e.isApp=!0,!o)throw new Error(`Cannot tagElement, element received is type ${typeof o} and not type Element`);o.destroy=function(){const f=r.events;for(const g in f){const h=f[g];o.removeEventListener(g,h)}r.events={},++V.locks;const d=ot(l,e);return--V.locks,N(),d},++V.locks;const i=document.createDocumentFragment();i.appendChild(a);const l=An(n,r,{appSupport:{appElement:o,context:r},appElement:o});return l.appElement=o,c&&(s.tag=l.templater.tag),--V.locks,N(),o.appendChild(i),{support:l,tags:ut,ValueTypes:y}}function mc(t,e,n){const s=Mn(t,e);return Ln(t,s,s),s.appElement=n,e.state.oldest||(e.state.oldest=s,e.state.older=e.state.newer),e.state.newest=s,s}typeof document=="object"&&(document.taggedJs&&console.warn("ðŸ·ï¸ðŸ·ï¸ Multiple versions of taggedjs are loaded. May cause issues."),document.taggedJs=!0);const Ot=[];function Nc(t,e,n){const s=Ot.findIndex(f=>f.element===e);if(s>=0){const f=Ot[s].support;ot(f,f.context.global),Ot.splice(s,1),console.warn("Found and destroyed app element already rendered to element",{element:e})}let o=(()=>i(n));o.propWatch=S.NONE,o.tagJsType=y.stateRender,o.processUpdate=z,o.props=[n],o.isApp=!0;const r=Cc(o,e),c=r.global,a=r.state.newest;Ve(a.context),St(a);let i=t(n);const u=typeof i==b.function;u||(lt(i)?(r.state.newest.propsConfig={latest:[n],castProps:[n]},o.propWatch=i.propWatch,o.tagJsType=i.tagJsType,o.wrapper=i.wrapper,o=i):(o.tag=i,i=t));const l=bc(t,c,o,i,e,r,u);return D(),l}function Cc(t,e){const n={tagJsType:"templater",hasValueChanged:Pt,destroy:pt,processInitAttribute:L,processInit:function(){console.debug("do nothing app function")},processUpdate:z},s={updateCount:0,value:t,valueIndex:0,varCounter:0,destroy$:new C,render$:new C,withinOwnerElement:!1,renderCount:0,global:void 0,state:{},tagJsVar:n};return G(s),s.events={},mc(t,s,e),s}function Tc(t){return Array.isArray(t)&&Object.prototype.hasOwnProperty.call(t,"raw")}function Z(t,e){return function(n,s,o){if(Tc(s)){const r=s.reduce((c,a,i)=>c+a+(o[i]??""),"");return e(n,[t,r])}return e(n,[t,s])}}function kc(t,e,n){const s=bt(t,t.elementFunctions);return Pn(s,e,n)}function Pn(t,e,n){function s(o){return s.toCallback(o)}return s.toCallback=n,t.listeners.push([e,s]),t.allListeners.push([e,s]),t}function _(t,e){const n=bt(t,t.elementFunctions);return n.attributes.push(e),K(e[0])?tt(e[0],n):K(e[1])&&tt(e[1],n),n}function wc(t,e){const n=bt(t,t.elementFunctions);return Object.entries(e).map(s=>{n.attributes.push(s),K(s[0])?tt(s[0],n):K(s[1])&&tt(s[1],n)}),n}const Jc=Z("style",_),Ac=Z("id",_),Vc=Z("class",_),Sc=Z("href",_),Ec=Z("value",_),Mc=Z("placeholder",_),Lc=Z("type",_);function Dn(t,e){return t.attributes.push(e),K(e[0])?tt(e[0],t):K(e[1])&&tt(e[1],t),t}function re(t){function e(s){return function(o){return kc(t,s,o)}}return{onClose:e("onclose"),onDoubleClick:e("ondblclick"),onClick:e("click"),onBlur:e("onblur"),onChange:e("onchange"),onInput:e("oninput"),onMousedown:e("onmousedown"),onMouseup:e("onmouseup"),onMouseover:e("onmouseover"),onMouseout:e("onmouseout"),onKeydown:e("onkeydown"),onKeyup:e("onkeyup"),attr:(...s)=>_(t,s),attrs:s=>wc(t,s),key:function(s){return this.arrayValue=s,this},style:((s,...o)=>Jc(t,s,o)),id:((s,...o)=>Ac(t,s,o)),class:((s,...o)=>Vc(t,s,o)),href:((s,...o)=>Sc(t,s,o)),value:((s,...o)=>Ec(t,s,o)),placeholder:((s,...o)=>Mc(t,s,o)),type:((s,...o)=>Lc(t,s,o))}}function xc(t,e,n){if(Et(n)){Object.entries(n).forEach(([s,o])=>{o?t.classList.add(s):t.classList.remove(s)});return}Ue(t,e,n)}function tt(t,e){e.contexts||(e.contexts=[]),e.contexts.push(t)}function K(t){return Array.isArray(t)||B(t)||(t==null?void 0:t.tagJsType)}function vt(t,e){return(n,s)=>Dn(n,[t,s,!1,e])}function A(t){return(e,n)=>Pn(e,t,n)}const Pc={onClose:A("onclose"),onClick:A("click"),onDoubleClick:A("ondblclick"),onDblClick:A("ondblclick"),onBlur:A("onblur"),onChange:A("onchange"),onInput:A("oninput"),onMousedown:A("onmousedown"),onMouseDown:A("onmousedown"),onMouseup:A("onmouseup"),onMouseUp:A("onmouseup"),onMouseover:A("onmouseover"),onMouseOver:A("onmouseup"),onMouseout:A("onmouseout"),onMouseOut:A("onmouseout"),onKeyup:A("onkeyup"),onKeyUp:A("onkeyup"),onKeydown:A("onkeydown"),onKeyDown:A("onkeydown")},Ce={checked:vt("checked",ie),selected:vt("selected",ie),class:vt("class",xc),...Pc};function Dc(t,e){return Object.entries(e).reduce((s,[o,r])=>o in Ce?Ce[o](t,r):Dn(t,[o,r,!1,nt]),t)}function On(t,e){++t.updateCount;const n=t.contexts,s=[];if(n.length&&(Vt(n,e,s),n.length=0,s.length)){const o=t.htmlDomMeta;return t.deleted=!0,Promise.all(s).then(()=>{++V.locks,Bt(o),t.htmlDomMeta=[],--V.locks,N()})}Kt(t),t.htmlDomMeta=[],delete t.contexts,t.deleted=!0}function Vt(t,e,n){const s=t[0],o=s.tagJsVar.destroy(s,e);if(s.deleted=!0,et(o))return n.push(o.then(()=>{if(t.length>1)return Vt(t.slice(1,t.length),e,n)}));if(s.htmlDomMeta&&(Kt(s),delete s.htmlDomMeta),t.length>1)return Vt(t.slice(1,t.length),e,n)}function vn(t,e,n){if(e.locked||e.deleted===!0)return;if(++e.updateCount,ce(t,e)){On(e,n),e.htmlDomMeta=[],delete e.deleted,Yt(t,e,n,789);return}const r=e.contexts,c=t.contexts||[],a=e.tagJsVar.allListeners;if(t.allListeners.forEach((u,l)=>{const f=a[l][1];f.toCallback=u[1].toCallback}),r.length!==c.length)throw console.info("context mismatch",{value:t,context:e,conValues:r.map(u=>u.value),vContexts:c,deleted:e.deleted}),new Error("super issue discovered");e.locked=79,r.forEach((u,l)=>{u.tagJsVar.processUpdate(c[l],u,n)}),delete e.locked}function ce(t,e){if(e.value===t)return 0;if(!t||t.tagJsType!=="element")return 1;const o=t.innerHTML.length,r=e.value.innerHTML.length;if(o!==r)return 1;const a=t.attributes.length,i=e.value.attributes.length;return a!==i?1:0}function Oc(t,e,n,s,o){const r=[],c={updateCount:0,parentContext:n,contexts:r,target:e,value:t,htmlDomMeta:[],tagJsVar:{tagJsType:"dynamic-text",hasValueChanged:()=>0,processInit:L,processInitAttribute:L,destroy:(f,d)=>{++c.updateCount,r.forEach(g=>g.tagJsVar.destroy(g,d))},processUpdate:(f,d,g,h)=>{++c.updateCount,v(u);let m=f(u);const w=c.underFunction;delete c.underFunction,m instanceof Function&&!m.tagJsType&&(w&&m.toString()===w.toString()?m=u.value:(c.underFunction=m,m=m()));const E=u.tagJsVar.processUpdate(m,u,g,h);return u.value=m,d.value=f,D(),E}},valueIndex:-1,withinOwnerElement:!0,destroy$:new C,render$:new C};v(c);let a=t();B(a)&&!a.tagJsType&&(c.underFunction=a,a=a());const u=Un(a,c,e,s,o);return n.contexts.push(c),D(),u}function Rn(t,e,n,s,o){t.forEach(r=>{switch(typeof r){case"string":case"boolean":case"number":return Te(r,s,o);case"function":{if(r.tagJsType==="element")break;return Oc(r,s,e,n,o)}}if(r==null)return Te(r,s,o);if(r.tagJsType==="element"){const a=Fn(r,e,n,e.contexts);P.push([o,[s,a]]),e.htmlDomMeta.push({nn:a.tagName,domElement:a,at:[]});return}return Un(r,e,s,n,o)})}function Un(t,e,n,s,o){const r=dt(t,[],!0,e);return e.contexts.push(r),r.target=n,r.placeholder=document.createTextNode(""),P.push([o,[n,r.placeholder]]),v(r),r.tagJsVar.processInit(t,r,s,r.placeholder),D(),r}function Te(t,e,n){const s=Mt(t),o=document.createTextNode(s);return P.push([n,[e,o]]),o}function Fn(t,e,n,s){const o=document.createElement(t.tagName);return e.target=o,t.attributes.forEach(r=>{const c=r[0];typeof c=="string"&&(r[2]=Lt(c))}),un(t.attributes,[],o,n,e),Rn(t.innerHTML,e,n,o,F),t.listeners.forEach((r,c)=>vc(t,c,n,r,o)),o}function vc(t,e,n,s,o){const r=(...c)=>{const i=t.listeners[e][1],u=ft(n),l=u.context.updateCount;u.context.locked=1,++V.locks;const f=i(...c);return--V.locks,delete u.context.locked,l===u.context.updateCount?Xe(f,u):(N(),et(f)?f.then(()=>{const g=u.context.state.newest;return Zt([g]),"promise-no-data-ever"}):"no-data-ever")};Ye(n.appSupport,s[0],o,r)}function Rc(t,e,n,s){e.contexts=e.contexts||[],e.htmlDomMeta=[],e.locked=34;const o=Fn(t,e,n,e.contexts);delete e.locked,P.push([j,[s,o,"htmlTag.processInit"]]);const r={nn:t.tagName,domElement:o,at:t.attributes};return e.htmlDomMeta=[r],o}function p(t){const n=bt({tagJsType:"element",processInitAttribute:L,processInit:Rc,destroy:On,processUpdate:vn,hasValueChanged:ce,tagName:t,innerHTML:[],attributes:[],listeners:[],allListeners:[],elementFunctions:re});return n.tagName=t,n}function bt(t,e){const n=(...s)=>{const o={...n};return o.attributes=[...n.attributes],o.listeners=[...n.listeners],o.allListeners=[...n.allListeners],s.length>0&&typeof s[0]=="object"&&!Array.isArray(s[0])&&!s[0].tagJsType&&(Dc(o,s[0]),s.splice(0,1)),o.innerHTML=s,s.forEach(r=>{if(K(r)){if(r.tagJsType==="element"){o.allListeners.push(...r.allListeners),r.contexts&&(o.contexts?o.contexts.push(...r.contexts):o.contexts=r.contexts);return}Uc(r,o)}}),o};return Object.assign(n,t),Object.assign(n,re(n)),n.attributes=[...t.attributes],n.listeners=[...t.listeners],n.allListeners=[...t.allListeners],n}function Uc(t,e){e.contexts||(e.contexts=[]),e.contexts.push(t)}const $c=Fc();function Fc(){const e=bt({tagJsType:"element",processInitAttribute:L,processInit:Hc,destroy:Ic,processUpdate:vn,hasValueChanged:ce,tagName:"no-element",innerHTML:[],attributes:[],listeners:[],allListeners:[],elementFunctions:re});return e.tagName="no-element",e}function Hc(t,e,n,s){e.contexts=e.contexts||[],e.htmlDomMeta=[],Rn(t.innerHTML,e,n,s,j)}function Ic(t,e){++t.updateCount;const n=t.contexts,s=[];if(n.length&&(Vt(n,e,s),n.length=0,s.length)){const o=t.htmlDomMeta;return Promise.all(s).then(()=>{++V.locks,Bt(o),--V.locks,N()})}}const jc=p("button"),Bc=p("select"),_c=p("option"),Kc=p("input"),Gc=p("textarea");p("html");p("head");p("title");p("meta");p("link");p("style");p("body");p("noscript");p("hr");const qc=p("h1"),zc=p("h2");p("h3");p("h4");p("h5");p("h6");p("ol");p("ul");p("li");const Zc=p("div");p("main");const Xc=p("section");p("header");p("footer");p("fieldset");p("legend");const Qc=p("dialog"),Yc=p("pre");p("table");p("tr");p("td");p("th");p("thead");p("tbody");p("tfoot");const ta=p("a");p("br");const ea=p("label"),na=p("p");p("small");const sa=p("span"),oa=p("strong");p("b");p("sup");p("nav");p("figure");p("figcaption");p("code");const ra=["Bambu","PolyMaker","Hatchbox","3DHoJor"];export{ta as A,$c as B,Xc as C,Gc as D,qc as E,na as F,Nc as G,So as a,L as b,V as c,N as d,hc as e,Je as f,$ as g,p as h,Ke as i,Zc as j,sa as k,Yc as l,Qc as m,zc as n,jr as o,Tt as p,jc as q,Eo as r,Do as s,T as t,ea as u,Kc as v,Bc as w,_c as x,ra as y,oa as z};
